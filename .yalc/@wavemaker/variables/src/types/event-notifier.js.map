{"version":3,"file":"event-notifier.js","sourceRoot":"./","sources":["src/types/event-notifier.ts"],"names":[],"mappings":"AAAA;IAAA;QACY,cAAS,GAAG,EAAS,CAAC;IAmBlC,CAAC;IAjBU,qCAAM,GAAb,UAAc,KAAa,EAAE,IAAW;QACpC,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAC,CAAW;gBACtC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAEM,wCAAS,GAAhB,UAAiB,KAAa,EAAE,EAAY;QAA5C,iBAQC;QAPG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC/B,OAAO;YACH,IAAM,cAAc,GAAG,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAM,CAAC,GAAG,cAAc,CAAC,SAAS,CAAC,UAAC,GAAa,IAAK,OAAA,GAAG,KAAK,EAAE,EAAV,CAAU,CAAC,CAAC;YAClE,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC;IACN,CAAC;IACL,2BAAC;AAAD,CAAC,AApBD,IAoBC","sourcesContent":["export class DefaultEventNotifier implements EventNotifier {\n    private listeners = {} as any;\n\n    public notify(event: string, args: any[]) {\n        if (this.listeners[event]) {\n            this.listeners[event].forEach((l: Function) => {\n                l && l.apply(null, args);\n            });\n        }\n    }\n\n    public subscribe(event: string, fn: Function) {\n        this.listeners[event] = this.listeners[event] || [];\n        this.listeners[event].push(fn);\n        return () => {\n            const eventListeners = this.listeners[event];\n            const i = eventListeners.findIndex((fni: Function) => fni === fn);\n            eventListeners.splice(i, 1);\n        };\n    }\n}\n\nexport interface EventNotifier {\n    notify: (event: string, args: any[]) => void;\n    subscribe: (event: string, fn: Function) => Function;\n}"]}
{"version":3,"file":"model-variable.manager.js","sourceRoot":"./","sources":["src/manager/variable/model-variable.manager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,yBAAyB,CAAC;AAI9D,IAAM,gBAAgB,GAAG,UAAC,GAAQ;IAC9B,IAAI,OAAO,GAAG,IAAI,CAAC;IACnB,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,UAAC,KAAU;QACtB,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YACjE,OAAO;SACR;QACD,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YACpB,OAAO,GAAG,KAAK,CAAC;SACnB;aAAM,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACzB,uFAAuF;YACvF,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SACpF;aAAM;YACH,iEAAiE;YACjE,OAAO,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;SACrC;QACD,OAAO,OAAO,CAAC,CAAC,oCAAoC;IACxD,CAAC,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;AACnB,CAAC,CAAC;AAEF;IAA0C,wCAAmB;IAA7D;;IAUA,CAAC;IATG;;;MAGE;IACF,qDAAsB,GAAtB,UAAuB,QAAa;QAChC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;YACvG,QAAQ,CAAC,OAAO,GAAG,EAAE,CAAC;SACzB;IACL,CAAC;IACL,2BAAC;AAAD,CAAC,AAVD,CAA0C,mBAAmB,GAU5D","sourcesContent":["import { BaseVariableManager } from './base-variable.manager';\n\ndeclare const _: any;\n\nconst checkEmptyObject = (obj: any) => {\n    let isEmpty = true;\n    _.forEach(obj, (value: any) => {\n        if (_.isEmpty(value) && !_.isBoolean(value) && !_.isNumber(value)) {\n          return;\n        }\n        if (!_.isObject(value)) {\n            isEmpty = false;\n        } else if (_.isArray(value)) {\n            // If array, check if array is empty or if it has only one value and the value is empty\n            isEmpty = _.isEmpty(value) || (value.length === 1 ? _.isEmpty(value[0]) : false);\n        } else {\n            // If object, loop over the object to check if it is empty or not\n            isEmpty = checkEmptyObject(value);\n        }\n        return isEmpty; // isEmpty false will break the loop\n    });\n    return isEmpty;\n};\n\nexport class ModelVariableManager extends BaseVariableManager {\n    /*\n    * Case: a LIST type static variable having only one object\n    * and the object has all fields empty, remove that object\n    */\n    removeFirstEmptyObject(variable: any) {\n        if (_.isArray(variable.dataSet) && variable.dataSet.length === 1 && checkEmptyObject(variable.dataSet[0])) {\n            variable.dataSet = [];\n        }\n    }\n}\n"]}